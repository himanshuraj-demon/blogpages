<!DOCTYPE html>
<html lang="en">

<head>
<%- include("./partials/head") %>
<title>My Blogs</title>

<style>

/* PREMIUM BLOG CARD */

.myblog-card{
    border-radius:14px;
    overflow:hidden;
    transition:all .35s ease;
}

.myblog-card:hover{
    transform:translateY(-6px);
    box-shadow:0 20px 35px rgba(0,0,0,0.1);
}

.myblog-img{
    height:220px;
    object-fit:cover;
    transition:transform .5s ease;
}

.myblog-card:hover .myblog-img{
    transform:scale(1.05);
}

/* ACTION BUTTON STYLE */

.action-btn{
    border-radius:50px;
}

/* DARK MODE SUPPORT */

body.dark-mode .myblog-card{
    background:rgba(30,30,30,0.7);
    backdrop-filter:blur(10px);
}

</style>

</head>

<body>

<%- include("./partials/nav") %>

<div class="container-xl py-5">

<!-- PAGE TITLE -->

<div class="text-center mb-5">
    <h2 class="fw-bold display-6">My Blogs ✍️</h2>
</div>

<div class="row g-4">

<% blogs.forEach(element => { %>

<div class="col-12 col-md-6 col-lg-4">

<div class="card myblog-card h-100 border-0 shadow-sm">

<!-- IMAGE -->

<div class="overflow-hidden">
<img src="<%= element.coverImg %>" class="card-img-top myblog-img">
</div>

<div class="card-body d-flex flex-column">

<!-- TITLE -->

<h5 class="text-center fw-semibold">
<%= element.title.split('"')[0] %>
</h5>

<!-- PREVIEW -->

<p class="text-muted flex-grow-1">
<%= element.body.substring(0,120) %>...
</p>

<!-- READ BUTTON -->

<a href="/blog/<%= element._id %>" class="btn btn-dark mb-3 action-btn">
Read →
</a>

<!-- ACTIONS -->

<div class="d-flex justify-content-between">

<form action="/blog/edit/<%= element._id %>" method="GET">
<button 
type="submit"
onclick="return confirm('Edit this blog?')"
class="btn btn-outline-primary btn-sm action-btn px-3">
Edit
</button>
</form>

<form action="/blog/delete/<%= element._id %>" method="POST">
<button 
type="submit"
onclick="return confirm('Delete this blog?')"
class="btn btn-outline-danger btn-sm action-btn">
Delete
</button>
</form>

</div>

</div>
</div>

</div>

<% }); %>

</div>

</div>

<%- include("./partials/footer") %>
<%- include("./partials/script") %>

</body>
</html>
